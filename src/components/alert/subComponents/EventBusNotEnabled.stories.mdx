import { Meta, Story, Preview, Props, Description } from '@storybook/addon-docs/blocks';
import { action } from '@storybook/addon-actions';

import EventBusNotEnabled from './EventBusNotEnabled.vue';

<Meta
  title="Sub-Components/Alerts/Alert event bus not enabled"
  argTypes={{
    link: {
      control: {
        type: 'text',
      },
    },
    psIs17: {
      control: {
        type: 'boolean',
      },
    },
  }}
  component={EventBusNotEnabled} />

export const Template = (args, { argTypes }) => ({
  props: Object.keys(argTypes),
  components: { EventBusNotEnabled },
  methods: {
    event: action('hasError'),
  },
  template: `<EventBusNotEnabled v-bind="$props" @hasError="event" class="m-4" />`,
})

# Alert block: PS EventBus module is disabled

When the PS EventBus module is disabled in the module manager of the backoffice, the linking process cannot
be done properly. So the user should be warned with that message and the process is blocked until the
module is enabled again.

<Story
  name='Disabled'
  height='220px'
  args={{
    link: 'https://link',
    psIs17: true,
  }}>
  {Template.bind({})}
</Story>

---
# Integration

_Notice: If you need to integrate the standard behavior of PS PsAccounts, please see the
[`PsAccounts` component in the integration section](?path=/docs/integration-psaccounts-panel--connected)._

If you need a custom integration of PS EventBus sub-components, here is the EventBusNotEnabled block:

```html
<EventBusNotEnabled :link="link" :ps-is17="psIs17" @hasError="event" />
```

# Technical details

<Description of={EventBusNotEnabled} />
<Props of={EventBusNotEnabled} />
