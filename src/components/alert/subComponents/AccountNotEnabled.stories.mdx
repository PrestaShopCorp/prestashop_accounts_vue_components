import { Meta, Story, Preview, Props, Description } from '@storybook/addon-docs/blocks';
import { action } from '@storybook/addon-actions';

import AccountNotEnabled from './AccountNotEnabled.vue';

<Meta
  title="Sub-Components/Alerts/Alert account not enabled"
  argTypes={{
    link: {
      control: {
        type: 'text',
      },
    },
    psIs17: {
      control: {
        type: 'boolean',
      },
    },
  }}
  component={AccountNotEnabled} />

export const Template = (args, { argTypes }) => ({
  props: Object.keys(argTypes),
  components: { AccountNotEnabled },
  methods: {
    event: action('hasError'),
  },
  template: `<AccountNotEnabled v-bind="$props" @hasError="event" class="m-4" />`,
})

# Alert block: PS Accounts module is disabled

When the PS Accounts module is disabled in the module manager of the backoffice, the linking process cannot
be done properly. So the user should be warned with that message and the process is blocked until the
module is enabled again.

<Story
  name='Disabled'
  height='220px'
  args={{
    link: 'https://link',
    psIs17: true,
  }}>
  {Template.bind({})}
</Story>

---
# Integration

_Notice: If you need to integrate the standard behavior of PS Accounts, please see the
[`PsAccounts` component in the integration section](?path=/docs/integration-psaccounts-panel--connected)._

If you need a custom integration of PS Accounts sub-components, here is the AccountNotEnabled block:

```html
<AccountNotEnabled :link="link" :ps-is17="psIs17" @hasError="event" />
```

# Technical details

<Description of={AccountNotEnabled} />
<Props of={AccountNotEnabled} />
